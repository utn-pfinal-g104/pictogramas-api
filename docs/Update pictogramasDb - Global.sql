select c2.nombre + ' ' + c1.Nombre as nombre, c1.id from categorias c1 left join categorias c2 on (c1.categoriaPadre = c2.id) where c1.nombre like ('%nuclear%') or c1.nombre like ('%central%') or c1.nombre like ('%basico%')
select * from categorias c1 left join categorias c2 on (c1.categoriaPadre = c2.id) where c1.nombre like ('%nuclear%') or c1.nombre like ('%central%') or c1.nombre like ('%basico%')
select * from categorias

begin tran

--update categorias
--set nombre = 'Cubiertos'
--where id = 99

--update categorias 
--set categorias.nombre = cats.nombre
--from
--	(select c2.nombre + ' ' + c1.Nombre as nombre, c1.id from categorias c1 left join categorias c2 on (c1.categoriaPadre = c2.id) where c1.nombre like ('%nuclear%') or c1.nombre like ('%central%') or c1.nombre like ('%basico%')) as cats
--where categorias.Id = cats.Id

--update Categorias 
--set nivel = 2

--update categorias 
--set nivel = 1
--where id in (10, 103, 104, 105, 106, 107, 109, 11 , 112, 113, 114, 116, 117, 119, 12 , 120, 121, 124, 125, 129, 13 , 130, 132, 134, 135, 136, 137, 138, 14 , 140, 141, 142, 144, 15 , 150, 155, 158, 159, 16 , 162, 163, 164, 165, 166, 167, 168, 169, 170, 173, 175, 176, 177, 179, 18 , 181, 183, 184, 185, 189, 19 , 190, 198, 2  , 20 , 201, 202, 205, 206, 207, 208, 21 , 213, 214, 216, 217, 22 , 221, 222, 223, 224, 23 , 236, 239, 24 , 240, 241, 242, 244, 248, 25 , 263, 264, 265, 270, 274, 275, 280, 286, 295, 306, 31 , 313, 315, 316, 317, 318, 319, 32 , 323, 324, 326, 336, 34 , 340, 35 , 36 , 365, 373, 38 , 398, 4  , 40 , 400, 404, 41 , 419, 42 , 420, 422, 43 , 436, 44 , 441, 45 , 46 , 465, 47 , 476, 48 , 49 , 497, 5  , 50 , 504, 52 , 520, 53 , 54 , 55 , 56 , 58 , 59 , 6  , 60 , 62 , 63 , 64 , 65 , 66 , 67 , 68 , 69 , 7  , 70 , 71 , 72 , 75 , 76 , 77 , 79 , 8  , 80 , 81 , 82 , 84 , 85 , 87 , 88 , 89 , 9  , 91 , 92 , 93 , 94 , 96 , 97 , 98)
--or id in (select CategoriaPadre from categorias where id in (10, 103, 104, 105, 106, 107, 109, 11 , 112, 113, 114, 116, 117, 119, 12 , 120, 121, 124, 125, 129, 13 , 130, 132, 134, 135, 136, 137, 138, 14 , 140, 141, 142, 144, 15 , 150, 155, 158, 159, 16 , 162, 163, 164, 165, 166, 167, 168, 169, 170, 173, 175, 176, 177, 179, 18 , 181, 183, 184, 185, 189, 19 , 190, 198, 2  , 20 , 201, 202, 205, 206, 207, 208, 21 , 213, 214, 216, 217, 22 , 221, 222, 223, 224, 23 , 236, 239, 24 , 240, 241, 242, 244, 248, 25 , 263, 264, 265, 270, 274, 275, 280, 286, 295, 306, 31 , 313, 315, 316, 317, 318, 319, 32 , 323, 324, 326, 336, 34 , 340, 35 , 36 , 365, 373, 38 , 398, 4  , 40 , 400, 404, 41 , 419, 42 , 420, 422, 43 , 436, 44 , 441, 45 , 46 , 465, 47 , 476, 48 , 49 , 497, 5  , 50 , 504, 52 , 520, 53 , 54 , 55 , 56 , 58 , 59 , 6  , 60 , 62 , 63 , 64 , 65 , 66 , 67 , 68 , 69 , 7  , 70 , 71 , 72 , 75 , 76 , 77 , 79 , 8  , 80 , 81 , 82 , 84 , 85 , 87 , 88 , 89 , 9  , 91 , 92 , 93 , 94 , 96 , 97 , 98))
--or id in (select CategoriaPadre from categorias where id in (10, 103, 104, 105, 106, 107, 109, 11 , 112, 113, 114, 116, 117, 119, 12 , 120, 121, 124, 125, 129, 13 , 130, 132, 134, 135, 136, 137, 138, 14 , 140, 141, 142, 144, 15 , 150, 155, 158, 159, 16 , 162, 163, 164, 165, 166, 167, 168, 169, 170, 173, 175, 176, 177, 179, 18 , 181, 183, 184, 185, 189, 19 , 190, 198, 2  , 20 , 201, 202, 205, 206, 207, 208, 21 , 213, 214, 216, 217, 22 , 221, 222, 223, 224, 23 , 236, 239, 24 , 240, 241, 242, 244, 248, 25 , 263, 264, 265, 270, 274, 275, 280, 286, 295, 306, 31 , 313, 315, 316, 317, 318, 319, 32 , 323, 324, 326, 336, 34 , 340, 35 , 36 , 365, 373, 38 , 398, 4  , 40 , 400, 404, 41 , 419, 42 , 420, 422, 43 , 436, 44 , 441, 45 , 46 , 465, 47 , 476, 48 , 49 , 497, 5  , 50 , 504, 52 , 520, 53 , 54 , 55 , 56 , 58 , 59 , 6  , 60 , 62 , 63 , 64 , 65 , 66 , 67 , 68 , 69 , 7  , 70 , 71 , 72 , 75 , 76 , 77 , 79 , 8  , 80 , 81 , 82 , 84 , 85 , 87 , 88 , 89 , 9  , 91 , 92 , 93 , 94 , 96 , 97 , 98))
--or id in (select c2.id from categorias c1 left join categorias c2 on (c1.CategoriaPadre = c2.id) where c1.id in (10, 103, 104, 105, 106, 107, 109, 11 , 112, 113, 114, 116, 117, 119, 12 , 120, 121, 124, 125, 129, 13 , 130, 132, 134, 135, 136, 137, 138, 14 , 140, 141, 142, 144, 15 , 150, 155, 158, 159, 16 , 162, 163, 164, 165, 166, 167, 168, 169, 170, 173, 175, 176, 177, 179, 18 , 181, 183, 184, 185, 189, 19 , 190, 198, 2  , 20 , 201, 202, 205, 206, 207, 208, 21 , 213, 214, 216, 217, 22 , 221, 222, 223, 224, 23 , 236, 239, 24 , 240, 241, 242, 244, 248, 25 , 263, 264, 265, 270, 274, 275, 280, 286, 295, 306, 31 , 313, 315, 316, 317, 318, 319, 32 , 323, 324, 326, 336, 34 , 340, 35 , 36 , 365, 373, 38 , 398, 4  , 40 , 400, 404, 41 , 419, 42 , 420, 422, 43 , 436, 44 , 441, 45 , 46 , 465, 47 , 476, 48 , 49 , 497, 5  , 50 , 504, 52 , 520, 53 , 54 , 55 , 56 , 58 , 59 , 6  , 60 , 62 , 63 , 64 , 65 , 66 , 67 , 68 , 69 , 7  , 70 , 71 , 72 , 75 , 76 , 77 , 79 , 8  , 80 , 81 , 82 , 84 , 85 , 87 , 88 , 89 , 9  , 91 , 92 , 93 , 94 , 96 , 97 , 98))
--or id in (select c3.id from categorias c1 left join categorias c2 on (c1.CategoriaPadre = c2.id) left join categorias c3 on (c2.CategoriaPadre = c3.id) where c1.id in (10, 103, 104, 105, 106, 107, 109, 11 , 112, 113, 114, 116, 117, 119, 12 , 120, 121, 124, 125, 129, 13 , 130, 132, 134, 135, 136, 137, 138, 14 , 140, 141, 142, 144, 15 , 150, 155, 158, 159, 16 , 162, 163, 164, 165, 166, 167, 168, 169, 170, 173, 175, 176, 177, 179, 18 , 181, 183, 184, 185, 189, 19 , 190, 198, 2  , 20 , 201, 202, 205, 206, 207, 208, 21 , 213, 214, 216, 217, 22 , 221, 222, 223, 224, 23 , 236, 239, 24 , 240, 241, 242, 244, 248, 25 , 263, 264, 265, 270, 274, 275, 280, 286, 295, 306, 31 , 313, 315, 316, 317, 318, 319, 32 , 323, 324, 326, 336, 34 , 340, 35 , 36 , 365, 373, 38 , 398, 4  , 40 , 400, 404, 41 , 419, 42 , 420, 422, 43 , 436, 44 , 441, 45 , 46 , 465, 47 , 476, 48 , 49 , 497, 5  , 50 , 504, 52 , 520, 53 , 54 , 55 , 56 , 58 , 59 , 6  , 60 , 62 , 63 , 64 , 65 , 66 , 67 , 68 , 69 , 7  , 70 , 71 , 72 , 75 , 76 , 77 , 79 , 8  , 80 , 81 , 82 , 84 , 85 , 87 , 88 , 89 , 9  , 91 , 92 , 93 , 94 , 96 , 97 , 98))
--or id in (select c4.id from categorias c1 left join categorias c2 on (c1.CategoriaPadre = c2.id) left join categorias c3 on (c2.CategoriaPadre = c3.id) left join categorias c4 on (c3.CategoriaPadre = c4.id) where c1.id in (10, 103, 104, 105, 106, 107, 109, 11 , 112, 113, 114, 116, 117, 119, 12 , 120, 121, 124, 125, 129, 13 , 130, 132, 134, 135, 136, 137, 138, 14 , 140, 141, 142, 144, 15 , 150, 155, 158, 159, 16 , 162, 163, 164, 165, 166, 167, 168, 169, 170, 173, 175, 176, 177, 179, 18 , 181, 183, 184, 185, 189, 19 , 190, 198, 2  , 20 , 201, 202, 205, 206, 207, 208, 21 , 213, 214, 216, 217, 22 , 221, 222, 223, 224, 23 , 236, 239, 24 , 240, 241, 242, 244, 248, 25 , 263, 264, 265, 270, 274, 275, 280, 286, 295, 306, 31 , 313, 315, 316, 317, 318, 319, 32 , 323, 324, 326, 336, 34 , 340, 35 , 36 , 365, 373, 38 , 398, 4  , 40 , 400, 404, 41 , 419, 42 , 420, 422, 43 , 436, 44 , 441, 45 , 46 , 465, 47 , 476, 48 , 49 , 497, 5  , 50 , 504, 52 , 520, 53 , 54 , 55 , 56 , 58 , 59 , 6  , 60 , 62 , 63 , 64 , 65 , 66 , 67 , 68 , 69 , 7  , 70 , 71 , 72 , 75 , 76 , 77 , 79 , 8  , 80 , 81 , 82 , 84 , 85 , 87 , 88 , 89 , 9  , 91 , 92 , 93 , 94 , 96 , 97 , 98))
--or id in (select c5.id from categorias c1 left join categorias c2 on (c1.CategoriaPadre = c2.id) left join categorias c3 on (c2.CategoriaPadre = c3.id) left join categorias c4 on (c3.CategoriaPadre = c4.id) left join categorias c5 on (c4.CategoriaPadre = c5.id) where c1.id in (10, 103, 104, 105, 106, 107, 109, 11 , 112, 113, 114, 116, 117, 119, 12 , 120, 121, 124, 125, 129, 13 , 130, 132, 134, 135, 136, 137, 138, 14 , 140, 141, 142, 144, 15 , 150, 155, 158, 159, 16 , 162, 163, 164, 165, 166, 167, 168, 169, 170, 173, 175, 176, 177, 179, 18 , 181, 183, 184, 185, 189, 19 , 190, 198, 2  , 20 , 201, 202, 205, 206, 207, 208, 21 , 213, 214, 216, 217, 22 , 221, 222, 223, 224, 23 , 236, 239, 24 , 240, 241, 242, 244, 248, 25 , 263, 264, 265, 270, 274, 275, 280, 286, 295, 306, 31 , 313, 315, 316, 317, 318, 319, 32 , 323, 324, 326, 336, 34 , 340, 35 , 36 , 365, 373, 38 , 398, 4  , 40 , 400, 404, 41 , 419, 42 , 420, 422, 43 , 436, 44 , 441, 45 , 46 , 465, 47 , 476, 48 , 49 , 497, 5  , 50 , 504, 52 , 520, 53 , 54 , 55 , 56 , 58 , 59 , 6  , 60 , 62 , 63 , 64 , 65 , 66 , 67 , 68 , 69 , 7  , 70 , 71 , 72 , 75 , 76 , 77 , 79 , 8  , 80 , 81 , 82 , 84 , 85 , 87 , 88 , 89 , 9  , 91 , 92 , 93 , 94 , 96 , 97 , 98))

--update categorias 
--set nivel = 0
--where id in (119, 124, 132, 14 , 150, 155, 167, 18, 19, 2 , 20, 21, 22, 31, 32, 34, 38, 4 , 40, 41, 43, 44, 45, 47, 50, 52, 55, 58, 60, 65, 69, 7 , 70, 71, 75, 77, 84, 85, 88, 89, 96, 97, 98, 113, 112, 166, 184, 244, 313, 316, 323, 365, 398)
--or id in (select CategoriaPadre from categorias where id in (119, 124, 132, 14 , 150, 155, 167, 18, 19, 2 , 20, 21, 22, 31, 32, 34, 38, 4 , 40, 41, 43, 44, 45, 47, 50, 52, 55, 58, 60, 65, 69, 7 , 70, 71, 75, 77, 84, 85, 88, 89, 96, 97, 98, 113, 112, 166, 184, 244, 313, 316, 323, 365, 398))
--or id in (select CategoriaPadre from categorias where id in (119, 124, 132, 14 , 150, 155, 167, 18, 19, 2 , 20, 21, 22, 31, 32, 34, 38, 4 , 40, 41, 43, 44, 45, 47, 50, 52, 55, 58, 60, 65, 69, 7 , 70, 71, 75, 77, 84, 85, 88, 89, 96, 97, 98, 113, 112, 166, 184, 244, 313, 316, 323, 365, 398))
--or id in (select c2.id from categorias c1 left join categorias c2 on (c1.CategoriaPadre = c2.id) where c1.id in (119, 124, 132, 14 , 150, 155, 167, 18, 19, 2 , 20, 21, 22, 31, 32, 34, 38, 4 , 40, 41, 43, 44, 45, 47, 50, 52, 55, 58, 60, 65, 69, 7 , 70, 71, 75, 77, 84, 85, 88, 89, 96, 97, 98))
--or id in (select c3.id from categorias c1 left join categorias c2 on (c1.CategoriaPadre = c2.id) left join categorias c3 on (c2.CategoriaPadre = c3.id) where c1.id in (119, 124, 132, 14 , 150, 155, 167, 18, 19, 2 , 20, 21, 22, 31, 32, 34, 38, 4 , 40, 41, 43, 44, 45, 47, 50, 52, 55, 58, 60, 65, 69, 7 , 70, 71, 75, 77, 84, 85, 88, 89, 96, 97, 98, 113, 112, 166, 184, 244, 313, 316, 323, 365, 398))
--or id in (select c4.id from categorias c1 left join categorias c2 on (c1.CategoriaPadre = c2.id) left join categorias c3 on (c2.CategoriaPadre = c3.id) left join categorias c4 on (c3.CategoriaPadre = c4.id) where c1.id in (119, 124, 132, 14 , 150, 155, 167, 18, 19, 2 , 20, 21, 22, 31, 32, 34, 38, 4 , 40, 41, 43, 44, 45, 47, 50, 52, 55, 58, 60, 65, 69, 7 , 70, 71, 75, 77, 84, 85, 88, 89, 96, 97, 98, 113, 112, 166, 184, 244, 313, 316, 323, 365, 398))
--or id in (select c5.id from categorias c1 left join categorias c2 on (c1.CategoriaPadre = c2.id) left join categorias c3 on (c2.CategoriaPadre = c3.id) left join categorias c4 on (c3.CategoriaPadre = c4.id) left join categorias c5 on (c4.CategoriaPadre = c5.id) where c1.id in (119, 124, 132, 14 , 150, 155, 167, 18, 19, 2 , 20, 21, 22, 31, 32, 34, 38, 4 , 40, 41, 43, 44, 45, 47, 50, 52, 55, 58, 60, 65, 69, 7 , 70, 71, 75, 77, 84, 85, 88, 89, 96, 97, 98, 113, 112, 166, 184, 244, 313, 316, 323, 365, 398))


update usuarios
set password = '7f243a45bd833e2c15a10cadb04012d98c819a2233d3ff9c1c3df891280d28b5'
where id = 2

update usuarios
set violence = 1
where id = 1

update usuarios 
set UltimaActualizacion = '2022-11-21 00:50:41.960', violence = 1
where id = 1

update pizarras
set UltimaActualizacion = '2022-11-21 00:43:41.960', nombre = 'prueba3'
where id = 89432875

rollback tran

commit tran

